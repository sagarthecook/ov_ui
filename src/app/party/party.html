<div  class="party-container">
    <mat-card>
        <mat-card-header>
          <mat-card-title>Party Registration</mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <!-- Success Message -->
          <div *if="successMessage" class="success-message">
            <mat-icon>check_circle</mat-icon>
            <span>{{ successMessage }}</span>
          </div>

          <!-- Error Message -->
          <div *if="errorMessage" class="error-message">
            <mat-icon>error</mat-icon>
            <span>{{ errorMessage }}</span>
          </div>

          <form [formGroup]="partyCreationForm" (ngSubmit)="onSubmit()">
            <!-- Name Fields Row -->
            <div class="form-row">
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Party Name</mat-label>
                <input
                  matInput
                  formControlName="name"
                  placeholder="Enter party name"
                  [disabled]="loading"
                />
                <mat-icon matPrefix>group</mat-icon>
                <mat-error
                  *ngIf="partyCreationForm.get('Name')?.hasError('required')"
                >
                  Party Name is required
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="form-field">
                <mat-label>President Name</mat-label>
                <input
                  matInput
                  formControlName="presidentName"
                  placeholder="Enter President name"
                  [disabled]="loading"
                />
                <mat-icon matPrefix>emoji_events</mat-icon>
                <mat-error
                  *ngIf="partyCreationForm.get('presidentName')?.hasError('required')"
                >
                 Party President is required
                </mat-error>
              </mat-form-field>

                <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Party Logo</mat-label>
                    <input
                      matInput
                      formControlName="logoText"
                      placeholder="Enter Party Logo"
                      [disabled]="loading"
                    />
                    <mat-icon matPrefix>festival</mat-icon>
                    <mat-error
                      *ngIf="partyCreationForm.get('logoText')?.hasError('required')">
                        Party Logo is required
                    </mat-error>
                      </mat-form-field>
                    </div>
              </form>
            </mat-card-content>

        <!-- Card Actions -->
        <mat-card-actions>
          <button
            mat-stroked-button
            type="button"
            (click)="onClear()"
            [disabled]="loading"
          >
            <mat-icon>clear</mat-icon>
            Cancel
          </button>
          <button
            mat-raised-button
            color="primary"
            type="submit"
            (click)="onSubmit()"
            [disabled]="partyCreationForm.invalid || loading"
          >
            <mat-icon *ngIf="!loading">save</mat-icon>
            <mat-spinner diameter="20" *ngIf="loading"></mat-spinner>
            {{ loading ? 'Registering...' : 'Register' }}
          </button>
        </mat-card-actions>
        </mat-card>
    </div>
